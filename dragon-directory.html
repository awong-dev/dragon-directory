<!DOCTYPE html>
<html>
<head>
<title>Dragon Directory Maker</title>
<link rel="stylesheet" href="dragon-directory.css">
<script type="module">
  import dragonDirectory from './dragon-directory.js';

  addEventListener("load", (event) => {
    document.getElementById('csv').addEventListener('change', function(e) {
      if (e.target.files[0]) {
        const reader = new FileReader();
        reader.addEventListener("load",
            () => dragonDirectory.renderStudents(reader.result),
            false
        );
        reader.readAsText(e.target.files[0]);
      }
    });

    document.getElementById('makepdf').addEventListener('click', dragonDirectory.makePdf);
  });
</script>
</head>
<body>
<label for="csv">CSV File</label>
<input type="file" id="csv" name="csv" accept="text/csv"></input>
<br>
<label for="csv">Password (blank for none)</label>
<input type="text" id="password" name="password"></input>
<br>
<button id="makepdf">Make PDF</button>
<hr />
<div id="student_table"></div>
</body>
</html>
